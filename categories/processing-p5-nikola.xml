<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>p5.js (processing) Explorations (Posts about processing p5 nikola)</title><link>https://necromuralist.github.io/p5_explorations/</link><description></description><atom:link rel="self" type="application/rss+xml" href="https://necromuralist.github.io/p5_explorations/categories/processing-p5-nikola.xml"></atom:link><language>en</language><lastBuildDate>Sun, 07 May 2017 22:57:34 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Testing With RST</title><link>https://necromuralist.github.io/p5_explorations/posts/testing-with-rst/</link><dc:creator>The Cloistered Monkey</dc:creator><description>&lt;div&gt;&lt;p&gt;This is a re-do of an &lt;a class="reference external" href="https://necromuralist.github.io/posts/processing-test/"&gt;old post&lt;/a&gt; I made to &lt;a class="reference external" href="https://necromuralist.github.io/"&gt;my main site&lt;/a&gt; about making a &lt;a class="reference external" href="http://p5js.org/"&gt;p5&lt;/a&gt; restructured-text post in &lt;cite&gt;nikola &amp;lt;https://www.getnikola.com/handbook.html&amp;gt;`_&lt;/cite&gt; based on the p5 &lt;a class="reference external" href="http://p5js.org/get-started/"&gt;get started&lt;/a&gt; tutorial. I'm repeating it to make sure I can get it to work here, since it's been so long since I've done it.&lt;/p&gt;
&lt;p&gt;First the link to the p5 code:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_2e2690dc649c495f831511ac8600cfae-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/p5.min.js"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;On the old post I had included the html tag directly in the post (using the &lt;tt class="docutils literal"&gt;.. raw::&lt;/tt&gt; directive, but I thought that would be wasteful since you can have multiple posts on one page so I moved it the the &lt;tt class="docutils literal"&gt;BODY_END&lt;/tt&gt; variable in the &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; file which should add it to the end of the HTML body).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;And now to include the sketch in the post. The naming of the &lt;tt class="docutils literal"&gt;div&lt;/tt&gt; is important (&lt;tt class="docutils literal"&gt;"get_started"&lt;/tt&gt; in this case) - the javascript has to reference it (in the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;canvas.parent("get_started")&lt;/span&gt;&lt;/tt&gt; line) or the sketch will not appear right here (see the notes below).&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_b731d882513d4c89afb6143c3971649d-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"get_started"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b731d882513d4c89afb6143c3971649d-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;language&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"javascript"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text/javascript"&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'get_started.js'&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b731d882513d4c89afb6143c3971649d-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;div id="get_started"&gt;
&lt;script language="javascript" type="text/javascript" src="https://necromuralist.github.io/p5_explorations/posts/testing-with-rst/get_started.js"&gt;&lt;/script&gt;
&lt;/div&gt;&lt;p&gt;&lt;a class="reference external" href="https://necromuralist.github.io/p5_explorations/listings/get_started.js.html"&gt;get_started.js&lt;/a&gt;  &lt;a class="reference external" href="https://necromuralist.github.io/p5_explorations/listings/get_started.js"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code javascript"&gt;&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-1"&gt;&lt;/a&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;diameter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-3"&gt;&lt;/a&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;setup&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-4"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;canvas&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;createCanvas&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.8&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;windowWidth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-5"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"get_started"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-6"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;background&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-7"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;strokeWeight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-8"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;stroke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-9"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;fill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-10"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-12"&gt;&lt;/a&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;mousePressed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-13"&gt;&lt;/a&gt;    &lt;span class="cm"&gt;/* set background to blue */&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-14"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;background&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-15"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-16"&gt;&lt;/a&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-17"&gt;&lt;/a&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;mouseReleased&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-18"&gt;&lt;/a&gt;    &lt;span class="cm"&gt;/* set background to white */&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-19"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;background&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-20"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-21"&gt;&lt;/a&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-22"&gt;&lt;/a&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-23"&gt;&lt;/a&gt;    &lt;span class="cm"&gt;/* Draw circles that change diameter based on mouse speed */&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-24"&gt;&lt;/a&gt;    &lt;span class="cm"&gt;/* and color based on if mouse-pressed (or not pressed)   */&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-25"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;mouseIsPressed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-26"&gt;&lt;/a&gt;        &lt;span class="nx"&gt;fill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-27"&gt;&lt;/a&gt;        &lt;span class="nx"&gt;stroke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-28"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-29"&gt;&lt;/a&gt;        &lt;span class="nx"&gt;fill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-30"&gt;&lt;/a&gt;        &lt;span class="nx"&gt;stroke&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-31"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-32"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;diameter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;pow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;dist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;pmouseX&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;pmouseY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;mouseX&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;mouseY&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-33"&gt;&lt;/a&gt;    &lt;span class="nx"&gt;ellipse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;mouseX&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;mouseY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;diameter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;diameter&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_82dcc24f2bf7434b8999fc5e40c1446c-34"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;div class="section" id="notes"&gt;
&lt;h2&gt;Notes&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;In order to get the javascript into the final HTML you need to put in the &lt;tt class="docutils literal"&gt;listings&lt;/tt&gt; folder at the root of the nikola folder and use the &lt;a class="reference external" href="https://www.getnikola.com/handbook.html#listing"&gt;listing&lt;/a&gt; &lt;cite&gt;reStructuredText&lt;/cite&gt; directive instead of &lt;tt class="docutils literal"&gt;include&lt;/tt&gt; (this is a special &lt;em&gt;nikola&lt;/em&gt; directive). You can't see it but it says:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="code rst"&gt;&lt;a name="rest_code_59bc323a044c49b392560f92d9700571-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;listing&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; get_started.js javascript
&lt;/pre&gt;&lt;ul class="simple"&gt;
&lt;li&gt;to get the sketch to stay in the post (instead of showing up on the bottom of the page), you have to use the div trick - create a &lt;cite&gt;div&lt;/cite&gt; where you want the sketch to be and give it a unique ID (use the &lt;tt class="docutils literal"&gt;raw&lt;/tt&gt; &lt;em&gt;reStructuredText&lt;/em&gt; to put the HTML tags displayed above into the post), then set the parent in the sketch (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;canvas.parent("get_started")&lt;/span&gt;&lt;/tt&gt; in this example).&lt;/li&gt;
&lt;li&gt;Another thing I forgot to mention in the other post was that &lt;em&gt;nikola&lt;/em&gt; looks for the javascript (when it includes it in the html, not when it wants to display it as in the first note) in the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;files/posts/&amp;lt;post-name-slugified&amp;gt;/&lt;/span&gt;&lt;/tt&gt; directory, so in this case, besides putting the javascript in the listings folder, I also had to put another copy of it in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;files/posts/testing-with-rst/&lt;/span&gt;&lt;/tt&gt;. There must be an easier way. Well, I guess it's not hard, it just seems inefficient.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>processing p5 nikola</category><guid>https://necromuralist.github.io/p5_explorations/posts/testing-with-rst/</guid><pubDate>Sun, 07 May 2017 21:59:44 GMT</pubDate></item></channel></rss>